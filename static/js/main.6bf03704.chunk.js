(this.webpackJsonppractica5=this.webpackJsonppractica5||[]).push([[0],{103:function(e,n,a){},105:function(e,n,a){"use strict";a.r(n);var c,t,i=a(4),s=a.n(i),l=a(62),o=a.n(l),r=(a(70),a(18)),d=a(30),j=(a(77),a(17)),u=(a(78),a(3)),m=function(e){var n=Object(i.useState)(""),a=Object(r.a)(n,2),c=a[0],t=a[1],s=Object(i.useState)(!1),l=Object(r.a)(s,2),o=l[0],d=l[1];return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsxs)("div",{className:"container_search",children:[Object(u.jsx)("input",{placeholder:"Enter a name to continue",className:"input_text",type:"text",onChange:function(e){t(e.target.value)}}),Object(u.jsx)("div",{className:"button",onClick:function(){e.changeFilter(c,o)},children:"Search"})]}),Object(u.jsxs)("div",{className:"container_type",children:[!o&&"\u2714",Object(u.jsx)("div",{className:"type",onClick:function(){d(!1)},children:"City"}),o&&"\u2714",Object(u.jsx)("div",{className:"type",onClick:function(){d(!0)},children:"Country"})]})]})})},b=a(36),v=a(38),h=a.n(v),O=a(23),p=(a(80),a(37)),x=a.n(p),g=Object(O.gql)(c||(c=Object(b.a)(["\n  query getCity($name :String!){\n      cities(where: {name: {eq: $name}}) {\n        name\n        population\n        location {\n          lat\n          long\n        }\n        country {\n          name\n          alpha2Code\n        }\n        timeZone {\n          name\n        }\n      }\n  }\n"]))),f=function(e){var n=Object(O.useQuery)(g,{variables:{name:e.name}}),a=n.data,c=n.loading,t=n.error,s=Object(i.useState)(-1),l=Object(r.a)(s,2),o=l[0],d=l[1],j=Object(i.useState)(),m=Object(r.a)(j,2),b=m[0],v=m[1];return Object(i.useEffect)((function(){-1!==o&&x.a.get("https://api.openweathermap.org/data/2.5/weather?lat="+(null===a||void 0===a?void 0:a.cities[o].location.lat)+"&lon="+(null===a||void 0===a?void 0:a.cities[o].location.long)+"&appid=01fb0393317735ed28b2537bacfafe02").then((function(e){v(e.data),console.log(e.data)}))}),[o]),console.log(a),Object(u.jsxs)("div",{className:"container_global",children:[c&&Object(u.jsx)(h.a,{color:"blue"}),t&&Object(u.jsx)("div",{children:t.message}),a&&a.cities.map((function(n,a){return o===a?Object(u.jsxs)("div",{className:"container_info",children:[Object(u.jsx)("div",{className:"name no",onClick:function(){d(o)},children:n.name}),Object(u.jsxs)("div",{className:"args country",onClick:function(){e.changeFilter(n.country.name,!0)},children:["Country: ",n.country.name]}),Object(u.jsxs)("div",{className:"args",children:["Population: ",n.population]}),n.timeZone&&Object(u.jsxs)("div",{className:"args",children:["TimeZone: ",n.timeZone.name]})]}):Object(u.jsx)("div",{className:"container_info",children:Object(u.jsx)("div",{className:"name",onClick:function(){d(a)},children:n.name})})})),-1!==o&&Object(u.jsxs)("div",{className:"ventana",children:[Object(u.jsx)("div",{className:"cerrar",onClick:function(){return d(-1)},children:"X"}),Object(u.jsxs)("div",{className:"datos",children:[Object(u.jsx)("div",{className:"bandera",children:Object(u.jsx)("img",{src:"https://www.countryflags.io/"+(null===a||void 0===a?void 0:a.cities[o].country.alpha2Code)+"/flat/64.png"})}),Object(u.jsxs)("div",{className:"data country",onClick:function(){e.changeFilter(null===a||void 0===a?void 0:a.cities[o].country.name,!0)},children:["Country: ",null===a||void 0===a?void 0:a.cities[o].country.name]}),Object(u.jsxs)("div",{className:"data",children:["Population: ",null===a||void 0===a?void 0:a.cities[o].population," "]}),(null===a||void 0===a?void 0:a.cities[o].timeZone)&&Object(u.jsxs)("div",{className:"data",children:["Time zone: ",a.cities[o].timeZone.name]}),b&&Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"data",children:["Weather description: ",b.weather[0].description]}),Object(u.jsxs)("div",{className:"data",children:["Time: ",b.main.temp-273.15,"\xbaC"]})]})]})]})]})},N=(a(103),Object(O.gql)(t||(t=Object(b.a)(["\n  query getCountry($name :String!){\n    countries(where: {name: {eq: $name}}) {\n      continent {\n        name\n      }\n      currencies {\n        name\n      }\n      population\n      languages {\n        name\n      }\n      capital {\n        name\n        location {\n          lat\n          long\n        }\n      }\n      name\n      alpha2Code\n      \n    }\n  }\n    \n  \n"])))),C=function(e){var n=Object(O.useQuery)(N,{variables:{name:e.name}}),a=n.data,c=n.loading,t=n.error,s=Object(i.useState)(-1),l=Object(r.a)(s,2),o=l[0],d=l[1],j=Object(i.useState)(),m=Object(r.a)(j,2),b=m[0],v=m[1];return Object(i.useEffect)((function(){-1!==o&&x.a.get("https://api.openweathermap.org/data/2.5/weather?lat="+(null===a||void 0===a?void 0:a.countries[o].capital.location.lat)+"&lon="+(null===a||void 0===a?void 0:a.countries[o].capital.location.long)+"&appid=01fb0393317735ed28b2537bacfafe02").then((function(e){v(e.data),console.log(e.data)}))}),[o]),Object(u.jsxs)("div",{className:"container_global_country",children:[c&&Object(u.jsx)(h.a,{color:"blue"}),t&&Object(u.jsx)("div",{children:t.message}),a&&a.countries.map((function(n,a){return o===a?Object(u.jsxs)("div",{className:"container_info_country",children:[Object(u.jsx)("div",{className:"name_country no",onClick:function(){d(o)},children:n.name}),Object(u.jsxs)("div",{className:"args_country",children:["Continent: ",n.continent.name]}),Object(u.jsxs)("div",{className:"capital",onClick:function(){e.changeFilter(n.capital.name,!1)},children:["Capital: ",n.capital.name]}),Object(u.jsx)("div",{className:"args_country",children:"Currencies: "}),n.currencies&&n.currencies.map((function(e){return Object(u.jsxs)("div",{children:["---",e.name]})})),Object(u.jsx)("div",{className:"args_country",children:"Languages: "}),n.languages&&n.languages.map((function(e){return Object(u.jsxs)("div",{children:["---",e.name]})})),Object(u.jsxs)("div",{className:"args_country",children:["Population: ",n.population]})]}):Object(u.jsx)("div",{className:"container_info_country",children:Object(u.jsx)("div",{className:"name_country",onClick:function(){d(a)},children:n.name})})})),-1!=o&&Object(u.jsxs)("div",{className:"ventana",children:[Object(u.jsx)("div",{className:"cerrar",onClick:function(){return d(-1)},children:"X"}),Object(u.jsx)("div",{className:"bandera",children:Object(u.jsx)("img",{src:"https://www.countryflags.io/"+(null===a||void 0===a?void 0:a.countries[o].alpha2Code)+"/flat/64.png"})}),Object(u.jsxs)("div",{className:"datos",children:[Object(u.jsxs)("div",{className:"data",children:["Continent: ",null===a||void 0===a?void 0:a.countries[o].continent.name]}),Object(u.jsxs)("div",{className:"data",children:["Name: ",null===a||void 0===a?void 0:a.countries[o].name]}),Object(u.jsxs)("div",{className:"data",children:["Code: ",null===a||void 0===a?void 0:a.countries[o].alpha2Code]}),Object(u.jsxs)("div",{className:"data",children:["Population: ",null===a||void 0===a?void 0:a.countries[o].population]}),Object(u.jsxs)("div",{className:"data capital",onClick:function(){e.changeFilter(null===a||void 0===a?void 0:a.countries[o].capital.name,!1)},children:["Capital: ",null===a||void 0===a?void 0:a.countries[o].capital.name]}),(null===a||void 0===a?void 0:a.countries[o].languages)&&a.countries[o].languages.map((function(e,n){return Object(u.jsxs)("div",{className:"data",children:["Language ",n,": ",e.name]})})),(null===a||void 0===a?void 0:a.countries[o].currencies)&&a.countries[o].currencies.map((function(e,n){return Object(u.jsxs)("div",{className:"data",children:["Currency ",n,": ",e.name]})})),b&&Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"data",children:["Weather description: ",b.weather[0].description]}),Object(u.jsxs)("div",{className:"data",children:["Time: ",b.main.temp-273.15,"\xbaC"]})]})]})]})]})},y=new j.ApolloClient({uri:"https://api.everbase.co/graphql?apikey=1c5ee109-5309-49c0-90cf-c66ff9845f0e",cache:new j.InMemoryCache});var k=function(){var e=Object(i.useState)(""),n=Object(r.a)(e,2),a=n[0],c=n[1],t=Object(i.useState)(!1),s=Object(r.a)(t,2),l=s[0],o=s[1],j=function(e,n){c(e),o(n)};return console.log("autor: FERNANDO MURUA ALCAZAR"),Object(u.jsxs)(d.ApolloProvider,{client:y,children:[""===a&&Object(u.jsx)(m,{changeFilter:j}),""!==a&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"center",onClick:function(){c(""),o(!1)},children:[Object(u.jsx)("div",{className:"image"}),Object(u.jsx)("div",{children:"Click to restart the search"})]}),!l&&Object(u.jsx)(f,{name:a,changeFilter:j}),l&&Object(u.jsx)(C,{name:a,changeFilter:j})]})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,106)).then((function(n){var a=n.getCLS,c=n.getFID,t=n.getFCP,i=n.getLCP,s=n.getTTFB;a(e),c(e),t(e),i(e),s(e)}))};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),w()},70:function(e,n,a){},77:function(e,n,a){},78:function(e,n,a){},80:function(e,n,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.6bf03704.chunk.js.map